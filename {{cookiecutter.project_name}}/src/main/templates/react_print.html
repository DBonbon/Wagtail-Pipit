{% raw %}{% for component in components %}
    {{ component.json_obj|json_script:component.data_identifier }}
{% endfor %}

<script>
    function initReact() {
        {% for component in components %}
            ReactDOM.{{ ssr_available|yesno:"hydrate,render" }}(
                React.createElement({{ component.name }}, JSON.parse(document.getElementById("{{ component.data_identifier }}").textContent)),
            {% if ssr_available and component.ssr_params.hypernova_id %}
                document.querySelector('div[data-hypernova-id="{{ component.ssr_params.hypernova_id }}"]')
            {% else %}
                document.getElementById('{{ component.identifier }}')
            {% endif %}
            );
        {% endfor %}
    }

    {% if SETTINGS.REACT_DEVSERVER %}
        document.getElementById("frontend-devserver").onload = initReact;
    {% else %}
        initReact();
    {% endif %}
</script>{% endraw %}
