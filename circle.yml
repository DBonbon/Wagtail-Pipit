machine:
    pre:
        # Upgrade docker to 1.10.0
        - curl -sSL https://s3.amazonaws.com/circle-downloads/install-circleci-docker.sh | bash -s -- 1.10.0
    timezone:
        Europe/Stockholm
    services:
        - postgresql
        - docker
    python:
        version: 2.7.10

dependencies:
    pre:
        - pip install cookiecutter
        - pip install docker-compose

test:
    pre:
        - cookiecutter . --no-input --overwrite-if-exists
        - cd Client-Project && docker-compose build
    override:
        - cd Client-Project && docker-compose run web python manage.py test --settings=core.settings.test
